#Intelligent Placer 

##Содержание:

1. [Что делает код в этом репозитории?](#p1)
2. [Подход к решению задачи (План)](#p2)
3. [Упрощения](#p3)
4. [Требования к фото](#pPaper)
5. [План тестирования](#p4)
6. [Словарь обозначений](#p5)


##Что делает код в этом репозитории? <a id ="p1"></a>

По данным на вход фотографиям нескольких премедотов на белом листе бумаги A4 и многоугольнику заданному по правилу [(1)](#1), этот код выдает true если описанные предметы целиком [(2)](#2) помещаются в многоуголник, false в противном случае.

Код оформлен в виде python-библиотеки __intelligent_placer_lib__, которая поставляется каталогом __intelligent_placer_lib__ с файлом __intelligent_placer.py__, содержащим функцию - точку входа

```
def check_image(<path_to_png_jpg_image_on_local_computer>[, <poligon_coordinates>])
```

То есть так, что работает код:
```
from intelligent_placer_lib import intelligent_placer
def test_intelligent_placer():
	assert intelligent_placer.check_image(“/path/to/my/image.png”)
```

Также содержиться воспроизводимый __intelligent_placer.ipynb__, содержащий репрезентативные примеры работы алгоритма с оценками качества его работы и их визуализацией [(3)](#3).

## Подход к решению задачи. (План)

Я могу найти границы предмета на изображении.
Я могу найти границы листа бумаги на изображении.

Относительные размеры, можно найти по номеру пискеля границы.

По формуле подобия, точно зная размеры листа A4, я могу найти размеры обьекта. (в случае если он не повернут).

Координаты прямоугольника заданы таким образом, что я точно знаю его размеры.

Случай, что повернут. Нужно находить особые точки и затем для них применять поворт СК, для нахождения истинных размеров


## Упрощения

На первом этапе надо реализовать программу без поворотов. Затем уже внедрять с поворотами.


## Требования к фото.

* Границы листа бумаги параллельны ближайшим к ним границам изображения.
* Лист бумаги лежит на темном фоне, однородной текстуры.
* Границы листа бумаги отчетливо видны на изображении.
* Лист бумаги строго формата A4.

## План тестирования <a id ="p4"></a>

Имеем 10 предметов: (xLen, yLen) в см.
<ol>
 <li>Значок Музей Невская Застава (r = 3.8)</li>
 <li>Щепцы Jakemy (11.5 x 1.5)</li>
 <li>Зажигалка Volna (7.5 x 2.5)</li>
 <li>Торообразный тренажер (R = 8.8, r = 3.8)</li>
 <li>Флешка Raychem(2.1 x 4.8)</li>
 <li>Пилка Zinger(10.5 x 1.7)</li>
 <li>Болт для крепления GoPro (1.2 x 5.5)</li>
 <li>Тикер Токер «ИЗИ ИЗИ» (2.7 x 2)</li>
 <li>Бумажка в форме маечки (2.9 x 4)</li>
 <li>Маркер stabilo boss розовый (10.5 x 2.8)</li>
</ol> 

Краевые условия для тестирования:
<ol>
 <li>Предметы [1, 10].</li>
 <li>Можно/Нельзя расположить одновременно.</li>
 <li>Прямоугольник/треугольник/... в качестве фигуры.</li>
</ol>

Тесты: 
<ol>
 <li>Один предмет, можно расположить. (Для каждого. 10 тестов.)</li>
 <li>Один предмет, нельзя расположить. 
 (Просто менять. Для 10 дать 6, для 4 дать 1, для 8 дать 9. 3 теста.)</li>
 <li>Два предмета, можно расположить. 
 (Точно дб тест с 4 и 1. 5 тестов.)</li>
 <li>Два предмета, нельзя расположить. (2 теста)</li>
 <li>Три предмета, можно расположить. (4 теста)</li>
 <li>Три предмета нельзя расположить. (2 теста)</li>
 <li>10 предметов, можно расположить. (1 тест)</li>
 <li>10 предметов, нельзя расположить. (1 тест)</li>
</ol>

Тотал: 28 тестов (для прямоугольников).

Сначала тестим для прямоугольников. Затем для треугольников. Далее, либо для 5 и 6 угольников (I), либо для криволинейных фигур (II).
Здесь точно будет (I), просто я еще не могу понять необходим ли (I) для работы с (II). 

Обоснование тестов:

На ум приходит ММИ, то есть проверили для 1 для 2, а затем для n. 
Но в этом случае рассмотреть три предмета считаю важным, 
т.к. здесь уже точно определяешься с алгоритмом.
<ol>
 <li>При одном предмете – сравниваем границы области с предметом даем ответ.</li>
 <li>При двух предметах располагаем 1ый предмет (у границы) вычисляем оставшуюся 
 область идем к случаю при одном предмете.</li>
 <li>При трех предметах мб, что какой-то предмет
 надо положить не у границы.</li>
 <li>И дальше можно идти в n.</li>
</ol>

Название файлов с предметами n.jpg. n – номер предмета.

<h2> Словарь обозначений </h2>
<a id ="1"> </a> (1): Как задать координаты?

(.)0 будет с левом нижнем углу листа бумаги. Ось Oy направлена вверх, ось Ox - вправо. Координаты многоугольника измеряются в санитиметрах. 

![Введенная СК.](/photos/emptyOxy.jpg)

Направление обхода вершин по часовой стрелке. 

//Пример, Формат ввода:

//x1, y1; x2, y2; x3, y3; x4, y4.

5, 5; 5, 7.9; 15.5, 7.9; 15.5, 5. //только эта строка в файле

![Задали прямоугольник на введенной СК.](/photos/example.jpg)

<a id ="2"> </a>(2): Поместиться целиком значит, что предметы полностью находяться в выделенной области и не пересекают ее границы.

<a id ="3"> </a>(3): Вариант визуализации - отрисовываем контур предмета начиная с точки касающейся стороны многоугольника.


## TODO: перейти на .csv для тестов. В формате Создайте отдельный .csv файл, где опишете подаваемые координаты, номер изображения и ожидаемый вывод, так будет гораздо понятнее

Название файлов с тестами x[-f]-y.txt. 
<ol>
 <li>x – номер теста.</li>
 <li>y – конкатенация номеров
 участвующих в тесте предметов в порядке возрастания. </li>
 <li>[-f] – опциональный параметр, в нем надо 
 будет указывать тип фигуры.
 <ul>
  <li>не указан – четырёхугольник.</li>
  <li>tr – (triangle) треугольник</li>
  <li>pg – (pentagon) пятиугольник</li>
  <li>hg – (hexagon) шестиугольник</li>
  <li>ng – (ngon?) n-угольник, какая-то криволинейная фигура.</li>
 </ul>
</li>
</ol>


Введем обозначение all = 12345678910. (7-all.txt).

(Напр.:
4-14.jpg, 4 тест, 1 и 4 предметы, четырехугольник
5-tr-179, 5 тест, 1, 7 и 9 предметы, треугольник). 

Про многоугольники.
Какие многоугольники можно использовать?
Точно ясно, что треугольник и четырехугольник дб.


Возможные усложнения: 
<ol>
 <li>Перейти от многоугольников к криволинейным фигурам. </li>
 <li>Возможность вертеть предметы.</li>
</ol>